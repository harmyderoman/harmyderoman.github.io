(function(e){function t(t){for(var n,a,i=t[0],l=t[1],d=t[2],s=0,b=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&b.push(c[a][0]),c[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,i=1;i<o.length;i++){var l=o[i];0!==c[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},c={app:0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/vue3-todo-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("cd49")},"11d3":function(e,t,o){},"1abb":function(e,t,o){"use strict";o("ffc9")},"40ba":function(e,t,o){"use strict";o("cbb9")},"64be":function(e,t,o){"use strict";o("c894")},"713c":function(e,t,o){"use strict";o("964f")},"964f":function(e,t,o){},"97b2":function(e,t,o){"use strict";o("11d3")},"9d3c":function(e,t,o){},a61b:function(e,t,o){},c894:function(e,t,o){},cbb9:function(e,t,o){},cd49:function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),c={id:"app"},r={class:"nav-wrapper position-relative"},a={class:"nav nav-pills nav-fill flex-column flex-md-row"},i={class:"nav-item"},l=Object(n["createTextVNode"])("List Of Notes"),d={class:"nav-item"},u=Object(n["createTextVNode"])("Create Note"),s=Object(n["createVNode"])("hr",null,null,-1);function b(e,t,o,b,f,p){var m=Object(n["resolveComponent"])("router-link"),O=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])("ul",a,[Object(n["createVNode"])("li",i,[Object(n["createVNode"])(m,{class:"nav-link mb-sm-3 mb-md-0",to:"/","active-class":"active",exact:""},{default:Object(n["withCtx"])((function(){return[l]})),_:1})]),Object(n["createVNode"])("li",d,[Object(n["createVNode"])(m,{class:"nav-link mb-sm-3 mb-md-0",to:"/note","active-class":"active",exact:""},{default:Object(n["withCtx"])((function(){return[u]})),_:1})])])]),s,Object(n["createVNode"])(O)])}var f={name:"App"};o("64be");f.render=b;var p=f,m=o("6c02"),O=Object(n["createVNode"])("h2",null,"List of Notes",-1),j=Object(n["createVNode"])("hr",null,null,-1),v={class:"card-body"},N={class:"pl-3"},h={class:"card-footer"},y=Object(n["createTextVNode"])(" Are you shure that you want to delete this note? "),k=Object(n["createTextVNode"])(" This note will be delete forever! "),C={key:0},x=Object(n["createTextVNode"])(" There is no notes right now!"),g=Object(n["createVNode"])("br",null,null,-1),w=Object(n["createTextVNode"])(" Click Create Note button to create one. ");function V(e,t,o,c,r,a){var i=Object(n["resolveComponent"])("modal-window");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[O,j,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.notes,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"card bg-primary border-light shadow-soft mb-4",key:t.id},[Object(n["createVNode"])("div",v,[Object(n["createVNode"])("h2",null,Object(n["toDisplayString"])(t.title),1),Object(n["createVNode"])("ul",N,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.todos,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("li",{class:{completed:e.completed},key:t},Object(n["toDisplayString"])(e.text),3)})),128))])]),Object(n["createVNode"])("div",h,[Object(n["createVNode"])("button",{class:"btn btn-sm btn-primary mr-3",onClick:function(o){return e.$router.push("/note/".concat(t.id))}}," Go to note ",8,["onClick"]),Object(n["createVNode"])("button",{class:"btn btn-sm btn-primary text-danger mr-3",type:"button",onClick:function(o){return e.onDeleteNote(t.id)}}," Delete Note ",8,["onClick"])])])})),128)),Object(n["createVNode"])(i,{show:e.showModal,onOnClose:e.closeModal},{"modal-header":Object(n["withCtx"])((function(){return[y]})),"modal-body":Object(n["withCtx"])((function(){return[k]})),"modal-actions":Object(n["withCtx"])((function(){return[Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary text-success",onClick:t[1]||(t[1]=function(t){return e.confirmDelete(!0)})}," Confirm "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary text-danger ml-auto",onClick:t[2]||(t[2]=function(t){return e.confirmDelete(!1)})}," Cancel ")]})),_:1},8,["show","onOnClose"]),e.notes.length?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("p",C,[x,g,w]))],64)}var T={key:0,class:"modal-backdrop",tabindex:"-1",role:"dialog"},B={class:"modal-dialog modal-dialog-centered"},M={class:"modal-content shadow-soft"},D={class:"modal-header"},I={class:"h6 modal-title mb-0"},S=Object(n["createTextVNode"])(" default Title"),R=Object(n["createVNode"])("span",{"aria-hidden":"true"},"Ã—",-1),U={class:"modal-body"},_=Object(n["createTextVNode"])(" default text "),L={class:"modal-footer"},$=Object(n["createVNode"])("p",null,"No Actions",-1);function A(e,t,o,c,r,a){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Teleport"],{to:"body"},[Object(n["createVNode"])(n["Transition"],{name:"fade"},{default:Object(n["withCtx"])((function(){return[e.showModal?(Object(n["openBlock"])(),Object(n["createBlock"])("div",T,[Object(n["createVNode"])("div",B,[Object(n["createVNode"])("div",M,[Object(n["createVNode"])("div",D,[Object(n["createVNode"])("h2",I,[Object(n["renderSlot"])(e.$slots,"modal-header",{},(function(){return[S]}))]),Object(n["createVNode"])("button",{type:"button",class:"close",onClick:t[1]||(t[1]=function(t){return e.$emit("onClose")})},[R])]),Object(n["createVNode"])("div",U,[Object(n["createVNode"])("p",null,[Object(n["renderSlot"])(e.$slots,"modal-body",{},(function(){return[_]}))])]),Object(n["createVNode"])("div",L,[Object(n["renderSlot"])(e.$slots,"modal-actions",{},(function(){return[$]}))])])])])):Object(n["createCommentVNode"])("",!0)]})),_:1})])}var P={show:{type:Boolean,default:!1}},F=["onClose"],E={},J=Object(n["defineComponent"])({name:"ModalDialog",props:P,emits:F,components:E,setup:function(e){var t=Object(n["ref"])(!1);return Object(n["watch"])((function(){return e.show}),(function(e){t.value=e})),{showModal:t}}});o("1abb");J.render=A;var K=J,q=(o("4de4"),o("7db0"),o("c975"),o("45fc"),o("a434"),o("5530")),H=o("5502"),W=o("16ce"),Y=Object(W["c"])("my-notes",[]),G=Object(n["ref"])({title:"",todos:[]}),z=Object(W["b"])(G,{deep:!0}),Q=(z.history,z.undo),X=z.redo,Z=z.canUndo,ee=z.canRedo,te=z.clear,oe=Object(H["a"])({state:{notes:Y,currentNote:G,currentId:0},mutations:{addNote:function(e){var t=e.currentId;e.notes.push(Object(q["a"])(Object(q["a"])({},e.currentNote),{},{id:t}))},deleteNote:function(e){e.notes=e.notes.filter((function(t){return t.id!=e.currentId}))},updateNote:function(e){var t=e.notes.find((function(t){return t.id===e.currentId})),o=e.notes.indexOf(t),n=e.currentId;e.notes[o]=Object(q["a"])(Object(q["a"])({},e.currentNote),{},{id:n})},setCurrentNote:function(e,t){e.currentNote.title=t.title,e.currentNote.todos=t.todos},updateTitle:function(e,t){e.currentNote.title=t},updateTodos:function(e,t){e.currentNote.todos=t},addNewTodo:function(e){e.currentNote.todos.push({text:"",completed:!1})},deleteTodo:function(e,t){e.currentNote.todos.splice(t,1)},clearHistory:function(){te()},undoChanges:function(){Q()},redoChanges:function(){X()},setCurrentId:function(e,t){e.currentId=t}},actions:{saveNote:function(e){var t=this,o=e.commit,n=this.state.currentNote.todos.filter((function(e){return""!=e.text}));o("updateTodos",n);var c=this.state.notes.some((function(e){return e.id===t.state.currentId}));o(c?"updateNote":"addNote")},fetchCurrentNote:function(e,t){var o=e.commit,n=JSON.parse(JSON.stringify(this.state.notes.find((function(e){return e.id===t}))));o("setCurrentNote",n),o("setCurrentId",t)},updateCurrentNote:function(e,t){var o=e.commit;o("setCurrentNote",t)}},getters:{getIdOfLastNote:function(e){if(e.notes.length>0){var t=e.notes.length-1;return e.notes[t].id}return 0},canUndo:function(){return Z.value},canRedo:function(){return ee.value}},strict:!0}),ne=Object(n["defineComponent"])({components:{ModalWindow:K},setup:function(){var e=Object(n["computed"])((function(){return oe.state.notes})),t=Object(n["ref"])(!1),o=function(e){t.value=!0,oe.commit("setCurrentId",e)},c=function(e){e&&oe.commit("deleteNote"),r()};function r(){oe.commit("setCurrentId",0),t.value=!1}return{notes:e,onDeleteNote:o,showModal:t,closeModal:r,confirmDelete:c}}});o("d28b");ne.render=V;var ce=ne,re={class:"card shadow-soft bg-primary border-light p-4 rounded"},ae={class:"d-flex justify-content-start mb-3"},ie={class:"col"},le={class:"card bg-primary border-light shadow-soft p-4"},de={class:"mt-4 d-flex justify-content-end"};function ue(e,t,o,c,r,a){var i=Object(n["resolveComponent"])("undo-redo-buttons"),l=Object(n["resolveComponent"])("note-title"),d=Object(n["resolveComponent"])("TodoItem"),u=Object(n["resolveComponent"])("note-actions");return Object(n["openBlock"])(),Object(n["createBlock"])("div",re,[Object(n["createVNode"])("div",ae,[Object(n["createVNode"])("div",ie,[Object(n["createVNode"])(i)])]),Object(n["createVNode"])("div",le,[Object(n["createVNode"])(l,{title:e.note.title,onUpdateTitle:e.updateTitle},null,8,["title","onUpdateTitle"]),Object(n["createVNode"])("ul",null,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.note.todos,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{todo:t,key:o,onRemoveTodo:function(t){return e.onRemoveTodo(o)},onUpdateTodo:function(t){return e.onUpdateTodo(t,o)},onCheckboxClick:function(t){return e.onCheckboxClick(t,o)}},null,8,["todo","onRemoveTodo","onUpdateTodo","onCheckboxClick"])})),128))]),Object(n["createVNode"])("div",null,[Object(n["createVNode"])("button",{class:"btn btn-primary text-info mr-2 mb-2",onClick:t[1]||(t[1]=function(){return e.addNewTodo.apply(e,arguments)})}," Add Todo ")])]),Object(n["createVNode"])("div",de,[Object(n["createVNode"])(u)])])}var se=o("2909"),be=(o("96cf"),o("1da1")),fe={ref:"todoItem",class:"card bg-primary border-light mt-3 p-2 pr-3 shadow-soft"},pe={class:"d-flex flex-row align-items-center w-100 justify-content-between"},me={class:"d-flex flex-row align-items-center pl-2 pr-2 w-100"},Oe={class:"d-flex flex-row align-items-center pl-2 pr-2"};function je(e,t,o,c,r,a){return Object(n["openBlock"])(),Object(n["createBlock"])("li",fe,[Object(n["createVNode"])("div",pe,[Object(n["createVNode"])("div",me,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.checked=t}),type:"checkbox"},null,512),[[n["vModelCheckbox"],e.checked]]),e.editable?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:1,class:"form-control todo-text-input",type:"text",value:e.todo.text,onInput:t[3]||(t[3]=function(){return e.onTextChange.apply(e,arguments)}),onKeyup:t[4]||(t[4]=Object(n["withKeys"])((function(t){return e.editable=!e.editable}),["enter"]))},null,40,["value"])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",{key:0,class:{completed:e.todo.completed&&e.todo.text},onClick:t[2]||(t[2]=function(t){return e.editable=!e.editable})},Object(n["toDisplayString"])(e.todo.text?e.todo.text:"Click to edit Todo"),3))]),Object(n["createVNode"])("div",Oe,[Object(n["createVNode"])("button",{class:["btn btn-sm btn-primary",{"text-info":e.editable}],onClick:t[5]||(t[5]=function(t){return e.editable=!e.editable})},Object(n["toDisplayString"])(e.editable?"Save":"Edit"),3),Object(n["createVNode"])("button",{class:"btn btn-sm btn-primary text-danger ml-2",onClick:t[6]||(t[6]=function(t){return e.$emit("remove-todo",e.todo)})}," Delete ")])])],512)}var ve=Object(n["defineComponent"])({name:"TodoItem",props:{todo:{type:Object,required:!0}},setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(!1);return Object(W["a"])(e,(function(){t.value&&(t.value=!1)})),{todoItem:e,editable:t}},methods:{onTextChange:function(e){this.$emit("update-todo",e.target.value)}},computed:{checked:{get:function(){return this.todo.completed},set:function(e){this.$emit("checkbox-click",e)}}}});o("97b2");ve.render=je;var Ne=ve;function he(e,t,o,c,r,a){var i=Object(n["resolveComponent"])("modal-window");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("button",{class:"btn btn-primary text-success mr-2 mb-2",type:"button",onClick:t[1]||(t[1]=function(t){return e.callModalDialog("save")})}," Save "),Object(n["createVNode"])("button",{class:"btn btn-primary text-info mr-2 mb-2",type:"button",onClick:t[2]||(t[2]=function(t){return e.callModalDialog("cancel")})}," Cancel "),Object(n["createVNode"])("button",{class:"btn btn-primary text-danger mr-2 mb-2",type:"button",onClick:t[3]||(t[3]=function(t){return e.callModalDialog("delete")})}," Delete "),Object(n["createVNode"])(i,{show:e.showModal,onOnClose:e.closeModal},{"modal-header":Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.modalTitle),1)]})),"modal-body":Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.modalBody),1)]})),"modal-actions":Object(n["withCtx"])((function(){return[Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary text-success",onClick:t[4]||(t[4]=function(t){return e.Confirm(!0)})}," Confirm "),Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary text-danger ml-auto",onClick:t[5]||(t[5]=function(t){return e.Confirm(!1)})}," Cancel ")]})),_:1},8,["show","onOnClose"])],64)}var ye=Object(n["defineComponent"])({name:"NoteActions",components:{ModalWindow:K},setup:function(){var e=Object(n["ref"])(!1),t=Object(n["ref"])("Modal Title"),o=Object(n["ref"])("Modal Body"),c=Object(n["ref"])(""),r=function(e){if(e)switch(c.value){case"delete":d();break;case"save":Re.push("/");break;case"cancel":u();break;default:console.error("Error! No action selected!");break}i()},a=function(n){switch(c.value=n,e.value=!0,n){case"delete":t.value="Do you realy want to delete this Note?",o.value="You will be redirected to main page after this.";break;case"save":t.value="Your Note is saved!",o.value="Do you want to exit to the main page? To continue edit this note, please click Cancel!",l();break;case"cancel":t.value="Do you realy want to cancel this Note?",o.value="All unsaved changes will be lost!";break;default:console.error("Error! No action selected!");break}},i=function(){e.value=!1,c.value="",t.value="",o.value=""},l=function(){oe.dispatch("saveNote")},d=function(){oe.commit("deleteNote"),Re.push("/")},u=function(){Re.push("/")};return{saveNote:l,deleteNote:d,cancelEdit:u,showModal:e,modalTitle:t,modalBody:o,Confirm:r,callModalDialog:a,closeModal:i}}});ye.render=he;var ke=ye;function Ce(e,t,o,c,r,a){return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("button",{class:"btn btn-primary text-success mr-2 mb-2",type:"button",disabled:!e.canUndo,onClick:t[1]||(t[1]=function(){return e.undo.apply(e,arguments)})}," Undo ",8,["disabled"]),Object(n["createVNode"])("button",{class:"btn btn-primary text-info mr-2 mb-2",type:"button",onClick:t[2]||(t[2]=function(){return e.redo.apply(e,arguments)}),disabled:!e.canRedo}," Redo ",8,["disabled"])],64)}var xe=Object(n["defineComponent"])({setup:function(){var e=Object(n["computed"])((function(){return oe.getters.canUndo})),t=Object(n["computed"])((function(){return oe.getters.canRedo})),o=function(){oe.commit("undoChanges")},c=function(){oe.commit("redoChanges")};return{undo:o,redo:c,canUndo:e,canRedo:t}}});xe.render=Ce;var ge=xe,we=Object(n["withScopeId"])("data-v-8caf8cc4"),Ve=we((function(e,t,o,c,r,a){return e.editable?(Object(n["openBlock"])(),Object(n["createBlock"])("input",{key:1,ref:"titleRef",class:"form-control title-font",type:"text",value:e.title,onInput:t[2]||(t[2]=function(){return e.onTextChange.apply(e,arguments)}),onKeyup:t[3]||(t[3]=Object(n["withKeys"])((function(t){return e.editable=!e.editable}),["enter"]))},null,40,["value"])):(Object(n["openBlock"])(),Object(n["createBlock"])("h3",{key:0,onClick:t[1]||(t[1]=function(t){return e.editable=!e.editable}),class:"title-font"},Object(n["toDisplayString"])(e.title?e.title:"Click to edit Title"),1))})),Te=Object(n["defineComponent"])({name:"NoteTitle",props:{title:{type:String,required:!1}},setup:function(){var e=Object(n["ref"])(null),t=Object(n["ref"])(!1);return Object(W["a"])(e,(function(){t.value&&(t.value=!1)})),{titleRef:e,editable:t}},methods:{onTextChange:function(e){this.$emit("update-title",e.target.value)}}});o("40ba");Te.render=Ve,Te.__scopeId="data-v-8caf8cc4";var Be=Te,Me=Object(n["defineComponent"])({name:"Note",components:{TodoItem:Ne,NoteActions:ke,UndoRedoButtons:ge,NoteTitle:Be},setup:function(){var e=Object(n["computed"])((function(){return oe.state.currentNote})),t=Re.currentRoute,o=function(){var e=Object(be["a"])(regeneratorRuntime.mark((function e(){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value.params.id?(o=+t.value.params.id,oe.dispatch("fetchCurrentNote",o)):(c=oe.getters.getIdOfLastNote+1,oe.commit("setCurrentNote",Object(q["a"])({},oe.state.currentNote)),oe.commit("setCurrentId",c)),e.next=3,Object(n["nextTick"])();case 3:oe.commit("clearHistory");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n["onMounted"])(o);var c=function(e){oe.commit("updateTitle",e)},r=function(){oe.commit("addNewTodo")},a=function(e){oe.commit("deleteTodo",e)},i=function(e,t){var o=Object(se["a"])(oe.state.currentNote.todos);o[t]=Object(q["a"])(Object(q["a"])({},o[t]),{},{text:e}),oe.commit("updateTodos",o)},l=function(e,t){var o=Object(se["a"])(oe.state.currentNote.todos);o[t]=Object(q["a"])(Object(q["a"])({},o[t]),{},{completed:e}),oe.commit("updateTodos",o)},d=function(){oe.commit("setCurrentNote",{title:"",todos:[]})};return{note:e,addNewTodo:r,onRemoveTodo:a,onUpdateTodo:i,clearNote:d,updateTitle:c,onCheckboxClick:l}},beforeRouteLeave:function(e,t,o){this.clearNote(),o()}});o("713c");Me.render=ue;var De=Me,Ie=[{path:"/",name:"List",component:ce},{path:"/note",name:"Create",component:De},{path:"/note/:id",name:"Edit",component:De}],Se=Object(m["a"])({history:Object(m["b"])("/vue3-todo-app/"),routes:Ie}),Re=Se;o("9d3c");Object(n["createApp"])(p).use(oe).use(Re).mount("#app")},d28b:function(e,t,o){"use strict";o("a61b")},ffc9:function(e,t,o){}});
//# sourceMappingURL=app.072b7412.js.map